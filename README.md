کتاب‌جیبی - سریع راه‌انداز و نکات اجرا

خلاصه
- این پروژه یک نمونهٔ سادهٔ پادکست است که فایل‌های آپلود شده را از `public/uploads` سرو می‌کند و برای منابع خارجی یک پروکسی (`/proxy?url=...`) دارد که از CORS و Range پشتیبانی می‌کند.

اجرای سریع
- PowerShell (ویندوز):

```powershell
Set-Location 'g:\CARSER'
./start-server.ps1
```

- CMD:

```bat
cd /d g:\CARSER
start-server.bat
```

- یا مستقیم:

```powershell
Set-Location 'g:\CARSER'
npm install
npm start
```

نکات مهم
- وضعیت سرویس: `GET /status` (JSON کوتاه با pid و uptime)
- فایل‌های محلی (آپلودها) از مسیر `GET /media/:name` خوانده می‌شوند و از هدرهای Range و CORS پشتیبانی می‌کنند.
- منابع خارجی: استفاده از `GET /proxy?url=<encoded-url>` تا CORS و Range به درستی عمل کند.

پیشگیرانه (کش پروکسی)
- پروکسی، فایل‌های خارجی را در `public/uploads/proxy-cache/` کش می‌کند تا پس از اولین درخواست، دسترسی‌های بعدی میلی‌ثانیه‌ای شوند.
- برای گرم‌سازی کش برای فهرست فایل‌های خارجی در `data/uploads.json`، از اسکریپت زیر استفاده کنید:

```powershell
powershell -ExecutionPolicy Bypass -File .\scripts\warm-proxy.ps1
```

- اسکریپت‌ها:
  - `start-server.ps1`, `start-server.bat` — شروع سرور (نصب وابستگی در صورت نیاز)
  - `scripts/warm-proxy.ps1` — گرم‌سازی کش برای فایل‌های خارجی فهرست‌شده

نکات عملکرد
- اولین دسترسی به یک منبع خارجی ممکن است به دلیل شبکه و واکنش سرور خارجی 1-2 ثانیه طول بکشد؛ اما پس از گرم شدن کش، پاسخ‌ها معمولاً در چند ده میلی‌ثانیه خواهند بود.
- اگر می‌خواهید همهٔ فایل‌های خارجی را پیشاپیش کش کنید، از `scripts/warm-proxy.ps1` استفاده کنید.

پرسش و مشکلات
- اگر می‌خواهی من این تغییرات را به گیت کمیت کنم یا اسکریپت‌های بیشتری اضافه کنم، بگو تا انجام دهم.
