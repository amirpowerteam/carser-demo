```markdown
> **یادداشت تیم (موقتی):** من دیشب گفتم یک نت می‌ذارم اینجا تا کارهای بعدی امروز پیگیری بشه. اگر مایل هستید من همین الآن ادامهٔ بلوپرینت رو شروع کنم، لطفاً مشخص کنید کدام بخش را اول انجام دهم (طراحی، ساختار فایل‌ها، یا پیاده‌سازی با Next.js).

This technical specification provides a comprehensive blueprint for recreating **Ketab Jibi Podcast** (`ketabjibipodcast.com`). The site is a content-rich, RTL (Right-to-Left) platform dedicated to book summaries, featuring a clean, modern aesthetic typical of high-end Persian media sites.

---

### 1. SITE MAP & NAVIGATION
The website follows a hierarchical structure optimized for content discovery and monetization (sponsorships/donations).

**Main Navigation Bar (Header):**
*   **Home (صفحه اصلی):** Landing page with featured episodes and introduction.
*   **Readables (خواندنی‌ها):** A blog/article section containing supplementary materials and guides.
*   **Episodes (اپیزودها):** The primary archive of all podcast recordings.
*   **Become a Sponsor (اسپانسر شوید):** B2B landing page for potential advertisers.
*   **Contact Us (تماس با ما):** Communication hub with a contact form and social links.
*   **Financial Support (حمایت مالی):** Donation page for listeners.

**Hierarchy & Sub-pages:**
*   **Parent: Readables**
    *   *Child:* "Where to start?" (Guide for new listeners)
    *   *Child:* "How Ketab Jibi is made" (Behind the scenes)
    *   *Child:* "Professional Podcasting" (Educational content)

---

### 2. DETAILED LAYOUT COMPOSITION

#### A. Global Layout
*   **Direction:** RTL (Right-to-Left).
*   **Container:** Max-width of 1200px, centered.
*   **Header:** Sticky navigation with a glassmorphism effect or solid white background. Logo on the right, menu items in the center/left, and a search icon.

#### B. Page-Specific Layouts
*   **Home Page:**
    *   **Hero Section:** Large featured episode card with a high-quality book cover (poster).
    *   **Latest Episodes Grid:** 3-column grid (desktop) / 1-column (mobile) showing episode cards.
    *   **"Why Podcast?" Section:** Icon-based feature list explaining the benefits of the show.
*   **Episode Archive:**
    *   **Filter/Search Bar:** Top-level search specifically for episodes.
    *   **Infinite Scroll or Pagination:** List of episodes with "Load More" functionality.
*   **Individual Episode Page:**
    *   **Sidebar (Left):** Social sharing, download links, and "Similar Podcasts" widget.
    *   **Main Content (Right):** Large book poster, Audio Player, detailed metadata (Author, Publisher, Translator, Narrator), and a long-form summary.
    *   **Comments Section:** Threaded discussion at the bottom.

#### C. Component Breakdown
*   **Audio Player:** Custom HTML5 player or Acast/Castbox embed. Must include: Play/Pause, Seek, Volume, Playback Speed (0.8x to 2x), and Skip Forward/Backward (15s).
*   **Episode Card:**
    *   Image (Book Poster) with hover zoom effect.
    *   Title (Persian Typography).
    *   Metadata (Date, Duration).
    *   Short excerpt.
*   **Sponsorship Form:** Multi-step or long-form input for brand details and budget.

---

### 3. DESIGN SYSTEM (PIXEL-PERFECT)

#### Colors
*   **Primary:** `#1A1A1A` (Deep Charcoal for text and headings).
*   **Accent:** `#E67E22` (Carrot Orange) or `#3498DB` (Bright Blue) — used for "Play" buttons and active states.
*   **Surface/Background:** `#FFFFFF` (Main), `#F9F9F9` (Section backgrounds).
*   **Border/Divider:** `#EEEEEE`.

#### Typography
*   **Primary Font:** `Vazirmatn` or `IRANSans` (Essential for Persian legibility).
*   **Headings:** Bold weight (700), 1.5rem to 2.5rem.
*   **Body:** Regular weight (400), 1rem, Line-height: 1.8 (crucial for RTL readability).

#### Spacing
*   **Section Padding:** `80px` (Vertical).
*   **Card Gap:** `24px` (Grid spacing).
*   **Border Radius:** `12px` for cards and buttons.

---

### 4. INTERACTIVE ELEMENTS
*   **Tab Behavior:** Smooth underline transition on hover; active tab highlighted with the accent color.
*   **Search Modal:** Full-screen overlay or dropdown search bar with real-time results.
*   **Audio Persistence:** Ideally, the audio player should stay active (sticky footer) as the user navigates between pages (SPA behavior).
*   **Social Links:** Hover state changes opacity or color to brand-specific colors (e.g., Instagram pink, Telegram blue).

---

### 5. ARCHITECTURE FOR CURSOR

**Recommended Tech Stack:** Next.js (for SEO and RTL support), Tailwind CSS, Framer Motion (for transitions).

**File Structure:**
```text
/src
  /components
    /layout
      Header.tsx
      Footer.tsx
      RTLContainer.tsx
    /ui
      AudioPlayer.tsx
      EpisodeCard.tsx
      SponsorForm.tsx
      SearchModal.tsx
    /sections
      Hero.tsx
      EpisodeGrid.tsx
  /pages
    index.tsx (Home)
    /episodes
      index.tsx (Archive)
      [slug].tsx (Single Episode)
    /readables
      index.tsx
    sponsorship.tsx
    contact.tsx
    donate.tsx
  /styles
    globals.css (Define Vazirmatn font and RTL resets)
  /hooks
    useAudio.ts (Global state for the player)
```

**Mapping Logic for Cursor:**
*   "The `EpisodeCard` should be used in both `index.tsx` and `episodes/index.tsx`."
*   "Apply `direction: rtl` to the main `Layout` wrapper."
*   "Use `next-seo` to map episode metadata (Title, Description, Image) for social sharing."
*   "The `AudioPlayer` component should be a singleton managed by a Context Provider to prevent playback interruption during navigation."

```

---

### 6. IMPLEMENTATION PLAN & NEXT STEPS

هدف این بخش تبدیل بلوپرینت به یک برنامهٔ اجرایی قابل پیگیری است — با تسک‌های کوچک، تخمین زمان کوتاه، و دستورات اولیهٔ scaffold زمانی که می‌خواهیم به پیاده‌سازی بزنیم.

- اولویت‌ها (پیشنهادی):
  - 1) سیستم طراحی و مؤلفه‌های کلیدی (`AudioPlayer`, `EpisodeCard`, `Hero`) — 1.5 تا 2 روز
  - 2) API و مدل داده (فایل‌ها/متادیتا) — 0.5 تا 1 روز
  - 3) ساختار پروژه و scaffold (Next.js + Tailwind) — 0.5 روز
  - 4) پیاده‌سازی اولیه صفحات و تست پلیر — 1 تا 2 روز

- گام‌های پیشنهادی (قابل اجرا به ترتیب):
  1. مستندسازی دقیق `AudioPlayer` (واجهه، رفتارهای مورد انتظار، API): `play`, `pause`, `seek`, `setRate`, `getState`.
  2. تعریف props/contract برای `EpisodeCard` و `Hero` و نوشتن markup نمونه.
  3. طراحی CSS variables و tokenهای رنگ/فاصله در `globals.css` (Vazirmatn import، RTL resets).
  4. مشخص‌کردن API endpoints مورد نیاز و نمونهٔ JSON بازگشتی برای هر endpoint.
  5. (اختیاری) scaffold پروژهٔ Next.js و انتقال صفحات استاتیک به ساختار `/pages`.

- دستورات سریع برای scaffold (در صورت تصمیم به استفاده از Next.js):
```bash
npx create-next-app@latest kj-next --typescript --use-npm
cd kj-next
npm install tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

- نمونهٔ سادهٔ فایل‌های اولیه که باید ایجاد شوند:
  - `src/components/AudioPlayer.tsx` — singleton player + Context
  - `src/components/EpisodeCard.tsx` — props: `{ id, title, description, cover, file, mime }`
  - `src/pages/index.tsx` — استفاده از `EpisodeGrid` و `Hero`
  - `src/lib/api.ts` — wrapper برای `fetch('/api/uploads')` و handling

---

اگر با این اولویت‌ها موافقید، شروع می‌کنم از «سیستم طراحی» و یک فایل `design-tokens.md` در repo اضافه می‌کنم که رنگ‌ها، تایپوگرافی و spacingها را تعریف کند؛ همچنین یک نمونهٔ CSS اولیه در `public/styles.css` یا `src/styles/globals.css` تهیه می‌کنم.

This technical specification provides a comprehensive blueprint for recreating **Ketab Jibi Podcast** (`ketabjibipodcast.com`). The site is a content-rich, RTL (Right-to-Left) platform dedicated to book summaries, featuring a clean, modern aesthetic typical of high-end Persian media sites.

---

### 1. SITE MAP & NAVIGATION
The website follows a hierarchical structure optimized for content discovery and monetization (sponsorships/donations).

**Main Navigation Bar (Header):**
*   **Home (صفحه اصلی):** Landing page with featured episodes and introduction.
*   **Readables (خواندنی‌ها):** A blog/article section containing supplementary materials and guides.
*   **Episodes (اپیزودها):** The primary archive of all podcast recordings.
*   **Become a Sponsor (اسپانسر شوید):** B2B landing page for potential advertisers.
*   **Contact Us (تماس با ما):** Communication hub with a contact form and social links.
*   **Financial Support (حمایت مالی):** Donation page for listeners.

**Hierarchy & Sub-pages:**
*   **Parent: Readables**
    *   *Child:* "Where to start?" (Guide for new listeners)
    *   *Child:* "How Ketab Jibi is made" (Behind the scenes)
    *   *Child:* "Professional Podcasting" (Educational content)
*   **Parent: Episodes**
    *   *Child:* Individual Episode Pages (e.g., `/episode-124-becoming-myself`)

---

### 2. DETAILED LAYOUT COMPOSITION

#### A. Global Layout
*   **Direction:** RTL (Right-to-Left).
*   **Container:** Max-width of 1200px, centered.
*   **Header:** Sticky navigation with a glassmorphism effect or solid white background. Logo on the right, menu items in the center/left, and a search icon.

#### B. Page-Specific Layouts
*   **Home Page:**
    *   **Hero Section:** Large featured episode card with a high-quality book cover (poster).
    *   **Latest Episodes Grid:** 3-column grid (desktop) / 1-column (mobile) showing episode cards.
    *   **"Why Podcast?" Section:** Icon-based feature list explaining the benefits of the show.
*   **Episode Archive:**
    *   **Filter/Search Bar:** Top-level search specifically for episodes.
    *   **Infinite Scroll or Pagination:** List of episodes with "Load More" functionality.
*   **Individual Episode Page:**
    *   **Sidebar (Left):** Social sharing, download links, and "Similar Podcasts" widget.
    *   **Main Content (Right):** Large book poster, Audio Player, detailed metadata (Author, Publisher, Translator, Narrator), and a long-form summary.
    *   **Comments Section:** Threaded discussion at the bottom.

#### C. Component Breakdown
*   **Audio Player:** Custom HTML5 player or Acast/Castbox embed. Must include: Play/Pause, Seek, Volume, Playback Speed (0.8x to 2x), and Skip Forward/Backward (15s).
*   **Episode Card:**
    *   Image (Book Poster) with hover zoom effect.
    *   Title (Persian Typography).
    *   Metadata (Date, Duration).
    *   Short excerpt.
*   **Sponsorship Form:** Multi-step or long-form input for brand details and budget.

---

### 3. DESIGN SYSTEM (PIXEL-PERFECT)

#### Colors
*   **Primary:** `#1A1A1A` (Deep Charcoal for text and headings).
*   **Accent:** `#E67E22` (Carrot Orange) or `#3498DB` (Bright Blue) — used for "Play" buttons and active states.
*   **Surface/Background:** `#FFFFFF` (Main), `#F9F9F9` (Section backgrounds).
*   **Border/Divider:** `#EEEEEE`.

#### Typography
*   **Primary Font:** `Vazirmatn` or `IRANSans` (Essential for Persian legibility).
*   **Headings:** Bold weight (700), 1.5rem to 2.5rem.
*   **Body:** Regular weight (400), 1rem, Line-height: 1.8 (crucial for RTL readability).

#### Spacing
*   **Section Padding:** `80px` (Vertical).
*   **Card Gap:** `24px` (Grid spacing).
*   **Border Radius:** `12px` for cards and buttons.

---

### 4. INTERACTIVE ELEMENTS
*   **Tab Behavior:** Smooth underline transition on hover; active tab highlighted with the accent color.
*   **Search Modal:** Full-screen overlay or dropdown search bar with real-time results.
*   **Audio Persistence:** Ideally, the audio player should stay active (sticky footer) as the user navigates between pages (SPA behavior).
*   **Social Links:** Hover state changes opacity or color to brand-specific colors (e.g., Instagram pink, Telegram blue).

---

### 5. ARCHITECTURE FOR CURSOR

**Recommended Tech Stack:** Next.js (for SEO and RTL support), Tailwind CSS, Framer Motion (for transitions).

**File Structure:**
```text
/src
  /components
    /layout
      Header.tsx
      Footer.tsx
      RTLContainer.tsx
    /ui
      AudioPlayer.tsx
      EpisodeCard.tsx
      SponsorForm.tsx
      SearchModal.tsx
    /sections
      Hero.tsx
      EpisodeGrid.tsx
  /pages
    index.tsx (Home)
    /episodes
      index.tsx (Archive)
      [slug].tsx (Single Episode)
    /readables
      index.tsx
    sponsorship.tsx
    contact.tsx
    donate.tsx
  /styles
    globals.css (Define Vazirmatn font and RTL resets)
  /hooks
    useAudio.ts (Global state for the player)
```

**Mapping Logic for Cursor:**
*   "The `EpisodeCard` should be used in both `index.tsx` and `episodes/index.tsx`."
*   "Apply `direction: rtl` to the main `Layout` wrapper."
*   "Use `next-seo` to map episode metadata (Title, Description, Image) for social sharing."
*   "The `AudioPlayer` component should be a singleton managed by a Context Provider to prevent playback interruption during navigation."